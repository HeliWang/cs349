<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>CS349 Assignment 4</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
body{-webkit-font-smoothing:antialiased;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;font-size:16px;line-height:1.3125em;margin:30px 0 0;padding:0;background:#fff}#wrapper{padding:20px}li{font-size:110%}li li{font-size:100%}li p{font-size:100%;margin:.5em 0}h1{color:#000;margin:0;font-size:1.5em;line-height:0.875em;margin-bottom:0.875em}h2{color:#111;margin:0;font-size:1.375em;line-height:0.9545454545454546em;margin-bottom:0.9545454545454546em}h3{color:#111;margin:0;font-size:1.25em;line-height:1.05em;margin-bottom:1.05em}h4{color:#111;margin:0;font-size:1.125em;line-height:1.1666666666666667em;margin-bottom:1.1666666666666667em}h5{color:#111;font-size:1.15em;line-height:1.3em;margin:1.3em 0}h6{font-size:1em;line-height:1.5em;margin:1.5em 0}body,p,td,div{color:#111;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;word-wrap:break-word}a{color:#0d6ea1;text-decoration:none;-webkit-transition:color 0.2s ease-in-out;-moz-transition:color 0.2s ease-in-out;-o-transition:color 0.2s ease-in-out;-ms-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out}a:hover{color:#3593d9}.footnote{color:#0d6ea1;font-size:.8em;vertical-align:super}#wrapper img{max-width:100%;height:auto}dd{margin-bottom:1em}li>p:first-child{margin:0}ul ul,ul ol{margin-bottom:.4em}caption,col,colgroup,table,tbody,td,tfoot,th,thead,tr{border-spacing:0}table{border:1px solid rgba(0,0,0,0.25);border-collapse:collapse;display:table;empty-cells:hide;margin:-1px 0 1.3125em;padding:0;table-layout:fixed}caption{display:table-caption;font-weight:700}col{display:table-column}colgroup{display:table-column-group}tbody{display:table-row-group}tfoot{display:table-footer-group}thead{display:table-header-group}td,th{display:table-cell}tr{display:table-row}table th,table td{font-size:1.1em;line-height:23px;padding:0 1em}table thead{background:rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.15);border-bottom:1px solid rgba(0,0,0,0.2)}table tbody{background:rgba(0,0,0,0.05)}table tfoot{background:rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.15);border-top:1px solid rgba(0,0,0,0.2)}figure{display:inline-block;position:relative;margin:1em 0 2em}figcaption{font-style:italic;text-align:center;background:white;color:#666;position:absolute;left:0;bottom:-24px;width:98%;padding:1%;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.poetry pre{display:block;font-family:Georgia,Garamond,serif !important;font-size:110% !important;font-style:italic;line-height:1.6em;margin-left:1em}.poetry pre code{font-family:Georgia,Garamond,serif !important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}blockquote p{font-size:110%;font-style:italic;line-height:1.6em}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;position:relative;vertical-align:super}sub{vertical-align:sub;top:-1px}p,h5{font-size:1.1429em;line-height:1.3125em;margin:1.3125em 0}dt,th{font-weight:700}table tr:nth-child(odd),table th:nth-child(odd),table td:nth-child(odd){background:rgba(255,255,255,0.06)}table tr:nth-child(even),table td:nth-child(even){background:rgba(200,200,200,0.25)}@media print{body{overflow:auto}img,pre,table,figure,p{page-break-inside:avoid}#wrapper{background:#fff;color:#303030;padding:10px;position:relative;text-indent:0}}@media screen{.inverted{background:#252a2a}.inverted #wrapper{background:#252a2a;color:#eee}.inverted hr{border-color:#333f40 !important}.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dt,.inverted dd{color:#eee}.inverted pre{background:#ccc}.inverted pre code{color:#111}.inverted table{background:none}.inverted table tr:nth-child(odd),.inverted table td:nth-child(odd){background:none}.inverted a{color:#acd1d5}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eee}code span::selection{background-color:rgba(0,0,0,0.7) !important;color:#eee !important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}}

@media print{
#generated-toc-clone,#generated-toc{display:none!important}
}

</style>

</head>
<body class="normal firstload">
  <div id="wrapper">
      <h1 id="cs349assignment3fruitslasher">CS 349 Assignment 4: Son of Fruit Slasher</h1>

<p><strong>This assignment is due Friday April 4 2014 @ 5 PM. No late assignments will be accepted!</strong> </p>

<h2 id="overview">Overview</h2>

<p>The objective of this assignment is to port your A3 Fruit Ninja game to Android. The gameplay requirements are <em>almost identical</em> to A3; the challenge will be in getting the code to work under Android, and test it on a mobile virtual device. </p>

<p>This assignment emphasizes </p>

<ul>
<li>Mobile design, MVC design patterns</li>
<li>Android widgets, views and 2D graphics</li>
<li>Direct manipulation and touch input</li>
</ul>

<h2 id="requirements">Requirements</h2>

<p>Most of these requirements are from A3, but modified slightly for mobile (i.e. &#8220;mouse&#8221; replaced with &#8220;touch input&#8221; in the descriptions). New requirements are flagged as <strong>new</strong>. Substantial changed are marked with <strong>changed</strong>. </p>

<p>The following guidelines describe <em>gameplay</em>: </p>

<ul>
<li>(<strong>changed</strong>) Your game should consist of a window, displaying the title, high-score and play area. You do not need to show elapsed time. Your game should be entirely using a single finger to swipe (on a mobile device) or a mouse (in the emulator).</li>
<li>(<strong>new</strong>) You do <em>not</em> need to handle orientation changes on the device, and you may choose to make your game playable in either landscape or portrait mode.</li>
<li>When the game is running, random fruit shapes will fly up from the bottom of the screen, reach the top of their ascent somewhere in the middle of the screen, and then drop and fall off the bottom of the screen.</li>
<li>You must support more than a single piece of fruit on-screen at the same time: you can have a random number of shapes animating, or have a progression (i.e. it starts out easy and adds more pieces as you continue playing). You need to decide what is compelling.</li>
<li>The player interacts with fruit by <em>slicing</em> it: touching the screen, dragging across a piece of fruit, and releasing it. The slice created in the fruit should match up with the line created by the start/end points of the drag. The alignment doesn&#8217;t need to be perfect, but it should be a reasonable match (so that you can, for instance, bisect a piece of fruit into smaller 1/5 and 4/5 size pieces).</li>
<li>After a piece of fruit is split, it must break apart as described above, and the remaining two pieces should then fall off the screen.</li>
<li>You don&#8217;t need to allow sub-slices (i.e. you <em>don&#8217;t</em> need to support splitting fruit into more than two pieces, though you may if you wish).</li>
<li>Points are awarded for each piece of fruit that is successfully sliced. The score should display a running total for that specific game. You can choose a meaningful scale.</li>
<li>If more than 5 pieces of fruit are missed (i.e. allowed to fall off the bottom of the screen without being sliced), then the game ends. When this happens, you should allow the user to start a new game (which clears the high score and resets the timer!)</li>
<li>Your game should be compelling: animations should happen at a fast-enough pace that an average player or TA can successfully play the game.</li>
</ul>

<p>The following are <em>implementation requirements</em>: </p>

<ul>
<li>(<strong>new</strong>) Your game just be built entirely in Java using the <code>Android 4.4.2 (API 19)</code> SDK. No third-party toolkits or libraries are allowed for the main requirements (<em>see below for exceptions</em>) but you may freely use any of the sample code provided in this course.</li>
<li>(<strong>new</strong>) You will need to install Eclipse and the Android SDK for this assignment: see the <code>Tools Specification</code> below and <a href="http://hci.uwaterloo.ca/courses/CS349/w14/files/20.android_installation.pdf">Android Installation Slides</a> for more details.</li>
<li>(<strong>new</strong>) You do <em>not</em> need to use the VirtualBox VM for this assignment (and you will find that these tools don&#8217;t work very well in a VM!). You should develop on your host OS using Eclipse, and test in an Android Virtual Device (details below).</li>
<li>Starter code is provided (link below), which you can use as the basis of your assignment. The starter code is an almost-complete implementation of drawing and slicing fruit: filling in the missing pieces of the Fruit class will make it functional. Note that doing this will not get you a complete application; you will still need to add animation, timers and so on.</li>
<li>You can make any changes that you want to the starter code (or even write everything yourself). You do <em>not</em> need to implement a particular interface for this assignment.</li>
<li>(<strong>changed</strong>) The sample code uses android <code>Paths</code> to represent shapes, and <code>Regions</code> to handle intersection tests. This is significantly different that the A3 implementation (mainly because Android does not include the <code>java.awt.Shape</code> classes that you used in A3!)</li>
<li>Your code must utilize the MVC pattern, and your interface should consist of one or more views. The model should contain the list of shapes to be drawn. The MVC implementation in the sample code is a reasonable starting point.</li>
<li><strike>This is a real-time game, and should exhibit smooth animations and gameplay. Marks will be partially based on performance and interactivity.</strike>The game should be playable and exhibit reasonable performance for a virtual machine. Marks will not be deducted for performance unless the game is unplayable in the standard VM described below.</li>
<li>Although the assignment doesn't require complex shapes or animations, a few marks may be assigned based on visual appearance, and complex gameplay (e.g. additional marks may be assigned for complex fruit movement, or complex shapes, or fancier animations than specified).</li>
</ul>

<h2 id="toolsspecification">Tools specification</h2>

<p>See the <a href="http://hci.uwaterloo.ca/courses/CS349/w14/files/20.android_installation.pdf">Android Installation Slides</a> on the course website for details on how to install the SDK, configure the AVD and so on. </p>

<p><strong>Android SDK</strong> </p>

<ul>
<li><code>Eclipse + Android SDK bundle</code> from the <a href="http://developer.android.com/sdk/index.html">Android Developer site</a></li>
<li><code>Android 4.4.2 (API 19)</code> as the target SDK</li>
</ul>

<p><strong>Android Virtual Device (AVD)</strong> </p>

<ul>
<li>Device: Nexus One (3.7&quot;, 480 x 800 hdpi)</li>
<li>Target: Android 4.4.2 - API Level 19</li>
<li>CPU/ABI: Intel Atom (x86) or ARM (specify in your README which one to use)</li>
<li>Keyboard: Hardware keyboard present</li>
<li>Skin: No skin</li>
<li>Memory Options: RAM 1024, VM Heap 32</li>
<li>Emulation Options: Use Host GPU (enabled)</li>
</ul>

<p><strong>Sample Code</strong><br/>
Once the tools are installed, <a href="resources/a4starter.zip">Download starter code here</a>. To install the starter code in SVN: </p>

<ol>
<li><code>svn update</code> your SVN working directory.</li>
<li><code>mkdir a4</code> to create your assignment directory.</li>
<li>Download the starter code and copy the zip file into this directory. <code>unzip a4starter.zip</code> to unzip the file.</li>
<li><code>svn add a4/</code> to add the directory and all of its contents, then <code>svn commit</code> everything.</li>
<li><code>svn status</code> should not show any changes pending.</li>
</ol>

<p>Finally, you&#8217;ll need to create a project in Eclipse that uses this code. </p>

<ol>
<li>Launch Eclipse</li>
<li>File -&gt; Import -&gt; Android, Existing Android Code into Workspace</li>
<li>Run -&gt; Run Configurations to set the parameters (starting Activity, AVD that it should use for testing).</li>
</ol>

<h2 id="testing">Testing</h2>

<p>You do not need to write unit tests for this assignment. You must develop and test using the AVD described above; TAs will use the same specification to create an AVD for markng your assignment. </p>

<h2 id="third-partycode">Third-Party Code</h2>

<p>You may not use third-party code for the majority of this assignment. The following exceptions apply. </p>

<ul>
<li>You may use third-party artwork, provided that you own the rights or it is licensed to allow this use (e.g. Creative Commons).</li>
<li>You may use third-party physics libraries to add more realistic physics and movement if you wish (physics is not a core requirement, so we&#8217;re ok with you doing something outrageous here).</li>
</ul>

<h2 id="submission">Submission</h2>

<p>Unlike A3, you will not be required to build a <code>makefile</code> for this assignment. Instead, add your Eclipse project and all of the support files to SVN. (Basically, make sure that you create your project in your SVN working directly and commit the entire project + source tree). </p>

<p>When submitting in SVN, remember to </p>

<ul>
<li><code>svn add</code> all of your files that you want to include</li>
<li><code>svn commit</code> all of your changes</li>
</ul>

<p>To check that you&#8217;ve submitted properly, <code>svn checkout</code> to a different directory and make sure that builds and works properly. If your second checkout works differently than expected, it&#8217;s probably because you&#8217;ve made a mistake submitting it. </p>

</body>
</html>